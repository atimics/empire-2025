{:source "satellite.txt", :tests [{:line 6, :description "Satellite needs attention only without target.", :givens [{:type :map, :target :game-map, :rows ["V#"]} {:type :waiting-for-input, :unit "V", :set-mode true}], :whens [], :thens [{:type :waiting-for-input, :expected true}]} {:line 15, :description "Satellite with target does not need attention.", :givens [{:type :map, :target :game-map, :rows ["V###%"]} {:type :unit-target, :unit "V", :target "%"} {:type :player-items, :items ["V"]}], :whens [{:type :process-player-items}], :thens [{:type :waiting-for-input, :expected false}]} {:line 27, :description "Satellite spawns with turns-remaining 50.", :givens [{:type :map, :target :game-map, :rows ["V#"]}], :whens [], :thens [{:type :unit-prop, :unit "V", :property :turns-remaining, :expected 50}]} {:line 35, :description "Satellite moves 10 cells per round.", :givens [{:type :map, :target :game-map, :rows ["V~~~~~~~~~="]} {:type :waiting-for-input, :unit "V", :set-mode true}], :whens [{:type :key-press, :key :D, :input-fn :key-down}], :thens [{:type :unit-at-next-round, :unit "V", :target "=", :at-next-round true}]} {:line 46, :description "Satellite can move over land.", :givens [{:type :map, :target :game-map, :rows ["V#########="]} {:type :waiting-for-input, :unit "V", :set-mode true}], :whens [{:type :key-press, :key :D, :input-fn :key-down}], :thens [{:type :unit-at-next-round, :unit "V", :target "=", :at-next-round true}]}]}