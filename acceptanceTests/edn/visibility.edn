{:source "visibility.txt", :tests [{:line 6, :description "Army reveals 3x3 around itself.", :givens [{:type :map, :target :game-map, :rows ["#####" "##A##" "#####"]} {:type :map, :target :player-map, :rows ["....." "....." "....."]}], :whens [{:type :visibility-update}], :thens [{:type :player-map-visibility, :rows [".###." ".###." ".###."]}]} {:line 25, :description "Unexplored cells are not visible.", :givens [{:type :map, :target :game-map, :rows ["###" "###" "###"]} {:type :map, :target :player-map, :rows ["..." "..." "..."]}], :whens [], :thens [{:type :player-map-visibility, :rows ["..." "..." "..."]}]} {:line 42, :description "City reveals surroundings.", :givens [{:type :map, :target :game-map, :rows ["###" "#O#" "###"]} {:type :map, :target :player-map, :rows ["..." "..." "..."]}], :whens [{:type :visibility-update}], :thens [{:type :player-map-visibility, :rows ["###" "###" "###"]}]} {:line 61, :description "Enemy units hidden in fog.", :givens [{:type :map, :target :game-map, :rows ["A####a"]} {:type :map, :target :player-map, :rows ["......"]}], :whens [{:type :visibility-update}], :thens [{:type :player-map-visibility, :rows ["##...."]}]} {:line 74, :description "Satellite reveals 5x5 area.", :givens [{:type :map, :target :game-map, :rows ["#####" "#####" "##V##" "#####" "#####"]} {:type :map, :target :player-map, :rows ["....." "....." "....." "....." "....."]}], :whens [{:type :visibility-update}], :thens [{:type :player-map-visibility, :rows ["#####" "#####" "#####" "#####" "#####"]}]}]}